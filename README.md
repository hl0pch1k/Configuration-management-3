# Конфигурационный инструмент

## Описание

Этот проект представляет собой инструмент для преобразования текстовых конфигурационных данных в формат XML. Программа предназначена для работы с текстовым форматом учебного конфигурационного языка, где данные могут быть представлены в виде словарей, констант и вложенных структур. Цель проекта — упростить обработку конфигурационных файлов и предоставить данные в удобочитаемом и машиночитаемом формате XML.

## Возможности
- Поддержка объявлений констант и их вычисление.
- Работа с конфигурационными данными в виде словарей и вложенных словарей.
- Преобразование данных в формат XML.
- Форматирование выходного XML для лучшей читаемости.

## Пример использования

### Входной файл (`input.txt`):
```
\ Это комментарий
var X := 100;
DICT1
@{
KEY1 = значение1;
KEY2 = значение2;
}
?[X]
```

### Выходной файл (`output.xml`):
```xml
<?xml version="1.0" encoding="utf-8"?>
<config>
    <dictionary name="DICT1">
        <entry name="KEY1">значение1</entry>
        <entry name="KEY2">значение2</entry>
    </dictionary>
</config>
```

## Установка

1. Клонируйте репозиторий на ваш локальный компьютер:
   ```bash
   git clone https://github.com/username/config_tool.git
   ```
2. Перейдите в папку проекта:
   ```bash
   cd config_tool
   ```

## Требования
- Python 3.6 или выше.

## Зависимости
Зависимости, необходимые для работы:
- `xml.etree.ElementTree` (входит в стандартную библиотеку Python)
- `xml.dom.minidom` (входит в стандартную библиотеку Python)
- `pytest` (для тестирования)

## Запуск программы

1. Поместите файл с конфигурационными данными в корневую папку проекта и назовите его `input.txt`.
2. Запустите скрипт:
   ```bash
   python config_tool.py
   ```
3. После выполнения скрипта выходной файл `output.xml` будет создан в корневой папке проекта.

## Тестирование
Для запуска тестов используйте `pytest`:

1. Установите `pytest`, если ещё не установлен:
   ```bash
   pip install pytest
   ```
2. Запустите тесты:
   ```bash
   pytest test_config_tool.py
   ```

## Структура проекта
- `config_tool.py` — основной файл программы, в котором реализованы все функции для обработки данных.
- `input.txt` — пример входного файла с конфигурацией.
- `output.xml` — выходной файл с результатами преобразования.
- `test_config_tool.py` — файл с тестами для проверки корректности работы программы.

## Описание функций

- **`parse_config(input_text)`**: Разбирает входной текст и выделяет константы и словари. Проверяет синтаксис и преобразует данные в словари Python.
- **`config_to_xml(config_data)`**: Преобразует словари Python в XML структуру.
- **`write_xml_to_file(root, output_file_path)`**: Записывает XML данные в выходной файл с форматированием для удобства чтения.

## Ошибки и обработка
Программа включает обработку ошибок, чтобы пользователю было понятно, где и в чём проблема. Ошибки включают:
- Неверный синтаксис.
- Отсутствие констант или закрывающих символов.
- Ошибки при чтении файла.

## Лицензия
Этот проект распространяется под лицензией MIT. Для получения дополнительной информации смотрите файл LICENSE.

